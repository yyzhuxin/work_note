# mysql的四种隔离级别

1. READ UNCOMMITTED
    未提交提交读

2. READ COMMITTED
    提交读   
    
3. REPEATABLE READ
    重复读
    
4. SERIALIZABLE
    序列读

## 快照读和当前读

## MVCC
InnoDB的MVCC,是通过在每行记录后面保存两个隐藏的列来实现的，这两个列，分别保存了这个行的创建时间，一个保存的是行的删除时间。这里存储的并不是实际的时间值,而是系统版本号(可以理解为事务的ID)，没开始一个新的事务，系统版本号就会自动递增，事务开始时刻的系统版本号会作为事务的ID。


## INSERT
为新插入的每一行保存当前系统版本号作为版本号

## UPDATE
实际上是新插入了一条记录，并保存其创建时间为当前事物的ID，同时保存当前事物ID到要UPDATE的行的删除时间

## DELETE
为删除的每一行保存当前系统的版本号作为删除标识

## SELECT
1. InnoDB只会查找版本早于当前事务版本的数据行(也就是行的系统版本号小于或等于事务的系统版本号)，这样可以确保事务读取的行，要么是在事务开始前已经存在的，要么是事务自身插入或者修改过的.
2. 行的删除版本要么未定义要么大于当前事务版本号，这可以确保事务读取到的行，在事务开始之前未被删除。